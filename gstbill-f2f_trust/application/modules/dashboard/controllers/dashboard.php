<?phpif (!defined('BASEPATH'))    exit('No direct script access allowed');class Dashboard extends MX_Controller {    function __construct() {        parent::__construct();        if (!$this->user_auth->is_logged_in()) {            redirect($this->config->item('base_url') . 'users/login');        }        $main_module = 'dashboard';        $access_arr = array(            'dashboard/index' => array('view'),            'dashboard/add' => array('add'),            'dashboard/delete' => array('delete'),            'dashboard/get_scholarship_count' => 'no_restriction',            'dashboard/get_sponsor_count' => 'no_restriction',            'dashboard/get_organization_amount' => 'no_restriction',            'dashboard/get_zakaath_amount' => 'no_restriction',            'dashboard/get_sponsor_by_year_wise' => 'no_restriction',            'dashboard/get_scholarships_by_year_wise' => 'no_restriction',            'dashboard/get_subscription_by_year_wise' => 'no_restriction',            'dashboard/get_petty_cash_amount' => 'no_restriction',        );        if (!$this->user_auth->is_permission_allowed($access_arr, $main_module)) {            redirect($this->config->item('base_url') . "users/my_profile");        }        //$this->load->library(array('session', 'javascript', 'pagination', 'form_validation', 'session_view'));        $this->load->model('dashboard/dashboard_model');        //$this->template->write_view('session_msg', 'users/session_msg');        //$data_msg_notify['new_message'] = $this->user_auth->get_new_message();        //$this->template->write_view('popup', 'users/messageboard_notify', $data_msg_notify);    }    function index() {        $data = array();        $data['title'] = 'Dashboard';        //$this->template->write_view('message_model', 'users/messageboard_notify');        //$data['scholarship_count'] = $this->dashboard_model->get_scholarship_count();        $this->template->write_view('content', 'dashboard/index', $data);        $this->template->render();    }    function get_scholarship_count() {        $data['scholarship_count'] = $this->dashboard_model->get_scholarship_count();        echo json_encode($data);    }    function get_sponsor_count() {        $data['sponsor_count'] = $this->dashboard_model->get_sponsors_count();        echo json_encode($data);    }    function get_organization_amount() {        $data['organization_amount'] = $this->dashboard_model->get_organization_amount();        echo json_encode($data);    }    function get_zakaath_amount() {        $data['zakaath_amount'] = $this->dashboard_model->get_zakaath_amount();        echo json_encode($data);    }    function get_sponsor_by_year_wise() {        $data = $this->dashboard_model->get_sponsor_by_year_wise();        echo json_encode($data);    }    function get_scholarships_by_year_wise() {        $data = $this->dashboard_model->get_scholarships_by_year_wise();        echo json_encode($data);    }    function get_subscription_by_year_wise() {        $data = $this->dashboard_model->get_subscription_by_year_wise();        echo json_encode($data);    }    function get_petty_cash_amount() {        $data = $this->dashboard_model->get_petty_cash_amount();        echo json_encode($data);    }}