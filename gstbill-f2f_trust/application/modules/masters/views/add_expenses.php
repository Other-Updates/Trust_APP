<div class="kt-grid__item kt-grid__item--fluid kt-app__content"  id="add_expense_div" ng-app="add_expense_app" ng-controller="add_expense_controller" ng-cloak>    <div class="kt-subheader   kt-grid__item" id="kt_subheader">        <div class="kt-container  kt-container--fluid ">            <div class="kt-subheader__main">                <h3 class="kt-subheader__title">                    Add Expense category                </h3>                <span class="kt-subheader__separator kt-subheader__separator--v"></span>            </div>        </div>    </div>    <div class="row hide" id="success_alert">        <div class="col-xl-12">            <div class="alert alert-outline-success fade show" role="alert">                <div class="alert-icon"><i class="flaticon2-check-mark"></i></div>                <div class="alert-text">Successfully added new expense category</div>            </div>        </div>    </div>    <div class="row hide" id="failed_alert">        <div class="col-xl-12">            <div class="alert alert-outline-danger fade show" role="alert">                <div class="alert-icon"><i class="flaticon-questions-circular-button"></i></div>                <div class="alert-text">Failed to add new expense category</div>            </div>        </div>    </div>    <div class="row hide" id="warning_alert">        <div class="col-xl-12">            <div class="alert alert-outline-warning fade show" role="alert">                <div class="alert-icon"><i class="flaticon-warning"></i></div>                <div class="alert-text">Expense category already exists</div>            </div>        </div>    </div>    <div class="row">        <div class="col-xl-12">            <!--begin:: Widgets/Trends-->            <div class="kt-portlet kt-portlet--head--noborder kt-portlet--height-fluid">                <form class="kt-form kt-form--label-right">                    <div class="kt-portlet__body">                        <div class="form-group">                        </div>                        <div class="form-group row ">                            <!--<div class="col-md-4">                                <label>Expense type<span class="req">*</span></label>                                <div class="kt-radio-inline">                                    <label class="kt-radio">                                        <input type="radio" name="expense_type" value="1"> Fixed                                        <span></span>                                    </label>                                    <label class="kt-radio">                                        <input type="radio" name="expense_type" value="2"> Variable                                        <span></span>                                    </label>                                </div>                                <span class="form-text text-muted expense_type-error error-span"></span>                            </div>-->                            <div class="col-md-6">                                <label>Expense category<span class="req">*</span></label>                                <input type="text" class="form-control" aria-describedby="emailHelp" name="expense_category" id="expense_category" placeholder="Enter Expense Category">                                <span class="form-text text-muted expense_category-error error-span"></span>                            </div>                            <div class="col-md-6">                                <label>Status<span class="req">*</span></label>                                <select class="form-control" id="expense_status" name="expense_status">                                    <option value="1">Active</option>                                    <option value="0">Inactive</option>                                </select>                                <span class="form-text text-muted expense_status-error error-span"></span>                            </div>                            <div class="col-md-12 pt-12">                                <div class="text-center">                                    <button type="button" id="submit_add_expense_category_form" class="btn btn-brand">Save</button>                                    <button type="button" class="btn btn-secondary" ng-click="goBack()">Back</button>                                </div>                            </div>                        </div>                    </div>                </form>            </div>            <!--end:: Widgets/Trends-->        </div>    </div></div><script type="text/javascript">    var add_expense_app = angular.module('add_expense_app', []);    add_expense_app.controller('add_expense_controller', ['$scope', '$http', '$compile', '$location', '$window', function ($scope, $http, $compile, $location, $window) {            $scope.goBack = function () {                $window.location.href = base_url + "masters/expenses";            }        }]);    var add_expense_div = document.getElementById('add_expense_div');    //alert(dvSecond);    angular.element(document).ready(function () {        angular.bootstrap(add_expense_div, ['add_expense_app']);    });    $('#submit_add_expense_category_form').click(function (e) {        e.preventDefault();        var btn = $(this);        var form = $(this).closest('form');        form.validate({            rules: {//                expense_type: {//                    required: true,//                },                expense_category: {                    required: true,                },                expense_status: {                    required: true                }            }        });        if (!form.valid()) {            var validator = form.validate();            for (x in validator.errorList) {                var error_span = (validator.errorList[x]['element'].name) + "-error";                $("." + error_span).html(validator.errorList[x]['message']);            }            return;        }        $(".error-span").html("");        btn.addClass('kt-spinner kt-spinner--right kt-spinner--sm kt-spinner--light').attr('disabled', true);        //var expense_type = $('input[name=expense_type]:checked').val();        var expense_category = $("#expense_category").val();        var expense_status = $("#expense_status").val();        var dataString = "expense_category=" + expense_category + "&expense_status=" + expense_status;        $.ajax({            method: "POST",            url: base_url + "masters/expenses/add_expense_category",            data: dataString,            cache: false,            error: function (data) {                console.log(data);            },            success: function (data) {                var obj = JSON.parse(data);                if (obj.status == "success") {                    $("#success_alert").removeClass("hide");                    setTimeout(function () {                        window.location.href = base_url + "masters/expenses";                    }, 2000);                } else if (obj.status == "expense_category_exists") {                    $("#warning_alert").removeClass("hide");                    btn.removeClass('kt-spinner kt-spinner--right kt-spinner--sm kt-spinner--light').attr('disabled', false);                    setTimeout(function () {                        $("#warning_alert").addClass("hide");                    }, 2000);                } else {                    $("#failed_alert").removeClass("hide");                    setTimeout(function () {                        $("#failed_alert").addClass("hide");                    }, 2000);                }            }        });    });</script>